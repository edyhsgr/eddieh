
<html>

<head>
<meta HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=utf-8">
   <meta NAME="Description" CONTENT="Iterative Proportional Fitting">
   <meta NAME="AUTHOR" CONTENT="Iterative Proportional Fitting">
   <meta NAME="KEYWORDS" CONTENT="Iterative Proportional Fitting, raking">
<title>Iterative Proportional Fitting</title>
<link rel="shortcut icon" href="https://github.com/edyhsgr/edyhsgr.github.io/raw/master/images/Icon.png">

<script src="http://www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
try {
_uacct = "UA-9665883-1";
urchinTracker();
} catch(err) {}</script>

</head>

<body TEXT="#505050"  
 LINK="006699" ALINK="006699" VLINK="006699">

<table WIDTH="100%" NOSAVE >
<table BORDER=0 CELLPADDING=0 align="center" valign="bottom">

<tr NOSAVE>
<td NOSAVE>
<div align=center> 
<br>

<table WIDTH="100%" NOSAVE >
<table BORDER=0 CELLPADDING=0 align="center" valign="bottom">
<blockquote>
<td valign=top width=750 >
<font FACE="HELVETICA">
<font size=3">

<br>

<u><b>Iterative Proportional Fitting Information and Code</b></u>
</br><span style="display:block; margin-bottom:-15px;"></span></br>

<strong><a STYLE="text-decoration:none" 
href="https://edyhsgr.github.io/IPFDescription/AKDOLWDIPFTWOD.pdf" target="_blank">Iterative Proportional Fitting for a Two-Dimensional Table</a>
</strong><br>
An informal description from May 2008 of two-dimensional IPF that I 
(<a STYLE="text-decoration:none" href="http://www.demog.berkeley.edu/~eddieh" target="_blank">Eddie Hunsinger</a>) 
prepared for my coworkers and fellow researchers. Please feel free to offer comments or corrections.
IPF is a big name for a pretty simple (but terrific) technique-- it is used quite a bit, but I think it could be used more. <a STYLE="text-decoration:none" 
href="http://www.google.com/search?q=nels+tomlinson" target="_blank">Nels Tomlinson</a> handed down much of any knowledge and computer code that I have on IPF.
<br><br>

<strong><a STYLE="text-decoration:none" 
href="https://edyhsgr.github.io/IPFDescription/AKDOLWDIPFTHREED.pdf" target="_blank">Iterative Proportional Fitting for a Three-Dimensional Table</a>
</strong><br>
A description of three-dimensional IPF (May 2008).
<br><br>

<strong><a STYLE="text-decoration:none" 
href="https://edyhsgr.github.io/IPFDescription/AKDOLWDIPFFOURD.pdf" target="_blank">Iterative Proportional Fitting for a Four-Dimensional Table</a>
</strong><br>
A description of four-dimensional IPF (May 2008).
<br><br>

<strong><a STYLE="text-decoration:none" 
href="https://edyhsgr.github.io/IPFDescription/IPF.zip">Iterative Proportional Fitting R Code</a>
</strong><br>
<a STYLE="text-decoration:none;display:inline;padding:0" href="http://www.r-project.org/" target="_blank">R</a>
code, supporting files and instruction/documentation to perform two-, three- and four-dimensional IPF. 
Though I did pieces of the development for the IPF functions, the heavy lifting (the bulk of the 2D and 3D functions) was done by 
<a STYLE="text-decoration:none;display:inline;padding:0" href="http://www.google.com/search?q=nels+tomlinson" target="_blank">Nels Tomlinson</a>, 
my predecessor at the 
<a STYLE="text-decoration:none;display:inline;padding:0" href="http://labor.state.ak.us/" target="_blank">Alaska Department of Labor and Workforce Development</a>.
<br><br>
                                                                          
<strong><a STYLE="text-decoration:none" 
href="https://github.com/AppliedDemogToolbox/Sprague_IPFSAS/raw/master/ipf2way.sas" target="_blank">Webb Sprague's Iterative Proportional Fitting SAS Code</a>
</strong><br>
A great 
<a STYLE="text-decoration:none" href="http://www.sas.com/" target="_blank">SAS</a>
macro for two-dimensional iterative proportional fitting, developed by Webb Sprague, a researcher with the State of Washington. 
Please note this code has only been tested with some sample data (August 2011).
<br><br>
                                                                          
<strong><a STYLE="text-decoration:none" 
href="https://github.com/Dirguis/ipfn/blob/master/ipfn/ipfn.py" target="_blank">Damien Forthommme's ipfn: Iterative Proportional Fitting With N Dimensions</a>
</strong><br>
From the README, "Iterative proportional fitting is an algorithm used is many different fields such as economics or social sciences, 
to alter results in such a way that aggregates along one or several dimensions match known marginals (or aggregates along these same dimensions)." 
The package includes
<a STYLE="text-decoration:none;display:inline;padding:0" href="https://numpy.org/" target="_blank">NumPy</a> 
and 
<a STYLE="text-decoration:none;display:inline;padding:0" href="https://pandas.pydata.org/" target="_blank">pandas</a> 
versions of the algorithm. 
<a STYLE="text-decoration:none;display:inline;padding:0" href="https://github.com/edyhsgr/IPFCompare/blob/main/ipfnCompare.ipynb" target="_blank">Here</a> 
is a link to application of it in a 
<a STYLE="text-decoration:none;display:inline;padding:0" href="https://jupyter.org/" target="_blank">Jupyter Notebook</a> (January 2023).
<br><br>
                                                                                                    
<strong><a STYLE="text-decoration:none" 
href="http://www.demog.berkeley.edu/~eddieh/documents/GQControlExample.pdf" target="_blank">A Particular IPF Application</a>
</strong><br>
An April 2011 message from me with description on use of IPF to reasonably fit 
sampled "Group Quarters" (GQ) (shared living facilities, as opposed to traditional households) data to 
separately-estimated GQ-type (e.g. prisons, dorms, etc.), 
GQ-county (location) and GQ-age (age of resident) control/marginal totals, given sparse and tightly-clustered sample-cell-data by type and county.
<br><br>

<br>

<br>
<u><b>Iterative Proportional Fitting Links</b></u>
</br><span style="display:block; margin-bottom:-15px;"></span></br>

<strong><a STYLE="text-decoration:none" 
href="http://www.stat.auckland.ac.nz/~lee/SNZ.pdf" target="_blank">Generating Synthetic Unit-Record Data from Published Marginal Tables</a>
</strong><br>
A May 2007 paper by a professor from the University of Auckland that covers IPF and other techniques for cell estimation based on marginal totals, and offers computer code to perform these techniques. 
<br><br>

<strong><a STYLE="text-decoration:none" 
href="http://citeseerx.ist.psu.edu/viewdoc/summary?doi=10.1.1.17.2073" target="_blank">Putting Iterative Proportional Fitting on the Researcher's Desk</a>
</strong><br>
An October 1999 paper by Paul Norman, a professor at the University of Leeds, that describes IPF and an MS Excel macro to perform IPF on two-dimensional tables.
<br><br>

<strong><a STYLE="text-decoration:none" 
href="http://links.jstor.org/sici?sici=0003-4851(194012)11%3A4%3C427%3AOALSAO%3E2.0.CO%3B2-C" target="_blank">Adjustment of a Sampled Frequency Table When the Expected Marginal Totals are Known</a>
</strong><br>
If you have JSTOR, here is a useful and historically important text about IPF from December 1940-- pp 439-442 presents an early documentation of the technique. Several problems with the paper have been noted since its publication, but that's ok. I've learned that there is an earlier (1937) documentation of the technique by a researcher named Kruithoff, but I haven't seen that paper and can't find a link to it (I'd love to see it, so please <a STYLE="text-decoration:none" href="mailto:edyhsgr@gmail.com">send me the link</a> if you have it). 

<br><br><br>

<a STYLE="text-decoration:none" href="https://edyhsgr.github.io">Eddie Hunsinger</a>
<br><br>
</div>

<br><br>

</body>

</html>
